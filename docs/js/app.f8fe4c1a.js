(function(){var t={8531:function(t){const e=[0,1,3e4,13e4,34e4,7e5,125e4,203e4,308e4,444e4,615e4,825e4,1078e4,1378e4,1729e4,2135e4,26e6,3128e4,3723e4,4389e4,513e5,595e5,6853e4,7843e4,8924e4,101e6,11375e4,12753e4,14238e4,15834e4,17545e4,19375e4,21328e4,23408e4,25619e4,27965e4,3045e5,33078e4,35853e4,38779e4,4186e5,451e6,48503e4,52073e4,55814e4,5973e5,63825e4,68103e4,72568e4,77224e4,82075e4,87125e4,92378e4,97838e4,103509e4,109395e4,1155e6,121828e4,128383e4,135169e4,1421900001,1494500002,1569530004,1647030007,1727040013,1809600023,1894750042,1982530076,2072980137,2166140247,2262050446,2360750803,2462281446,2566682602,2673994685,2784258433,2897515179,3013807323,3133179183,3255678529,3381359352,3510286835,3642546303,3778259346,3917612823,4060911082,4208669948,4361785906,4521840632,4691649138,4876246449,5084663609,5333124496,5650800093,6090166168,6745647103,7787174785,9520594613,12496396305,17705429349,26931190827,126931190826,226931190825,326931190824,426931190823,526931190822,626931190821,726931190820,826931190819,926931190818,0xef19de6c21,1126931190816,1226931190815,1326931190814,1426931190813,1526931190812,1626931190811,1726931190810,1826931190809,1926931190808,2026931190807,2126931190806,2226931190805,2326931190804,2426931190803,2526931190802,2626931190801,2726931190800,2826931190799,2926931190798,3026931190797,3126931190796,3226931190795,3326931190794,3426931190793,3526931190792,3626931190791,3726931190790,3826931190789,3926931190788,4026931190787,4126931190786,4226931190785,4326931190784,4426931190783,4526931190782,4626931190781,4726931190780,4826931190779,4926931190778,5026931190777];function a(t){var e=parseInt(t).toString(),a=e.length;if(a<=3)return e;var s=a%3;return s>0?e.slice(0,s)+","+e.slice(s,a).match(/\d{3}/g).join(","):e.slice(s,a).match(/\d{3}/g).join(",")}function s(t){let e=0;return e=t<100?5e3/3*(4*Math.pow(t,3)-3*Math.pow(t,2)-t)+1.25*Math.pow(1.8,t-60):26931190827+99999999999*(t-100),parseInt(e)}function o(t){for(let a=1;a<e.length-1;a++)if(t<e[a])return{level:a-1,nextLevelExp:e[a]};for(let a=e.length-1;a<1e4;a++){let e=s(a);if(t<e)return{level:a-1,nextLevelExp:e}}throw"这是你编造的总分，对不对？"}function i(t,e,i){let n=o(t),l=n.level,r=i?s(i):n.nextLevelExp,d=i?"第 "+i+" 级":"下一级",c=r-t;if(c<=0)throw"您当前的等级（ "+l+" ）已经达到目标等级了！";let h=Math.ceil(c/e);return"您当前的等级为 "+l+" 级，距"+d+"还需要 "+a(c)+" 点经验。\n按每PC得分 "+a(e)+" 计算，您大约还需要打 "+a(h)+" 次。"}t.exports=i},1021:function(t){class e{constructor(t){this.isConvert=t.isConvert,this.mapKeys=t.mapKeys,this.playKeys=t.playKeys,this.sr=t.sr,this.od=t.od,this.objCount=t.objCount,this.isHR=t.isHR,this.isEZ=t.isEZ,this.isDT=t.isDT,this.isHT=t.isHT,this.isNF=t.isNF,this.score=t.score,this.maxScore=1e6,this._score=this.getComputeScore(),this.difficultyValue=this.computeDifficultyValue(),this.accuracyValue=this.computeAccuracyValue(),this.totalValue=this.computeTotalValue()}computeDifficultyValue(){let t=1,e=Math.pow(5*Math.max(1,this.sr/.2)-4,2.2)/135;t*=e;let a=1+.1*Math.min(1,this.objCount/1500);t*=a;let s=0,o=this._score;return s=o<=5e5?0:o<=6e5?(o-5e5)/1e5*.3:o<=7e5?.3+(o-6e5)/1e5*.25:o<=8e5?.55+(o-7e5)/1e5*.2:o<=9e5?.75+(o-8e5)/1e5*.15:.9+(o-9e5)/1e5*.1,t*=s,t}getComputeScore(){let t=this.getScoreMultiplier();return this.maxScore=parseInt(this.maxScore*t),this.score/t}getScoreMultiplier(){let t=1;if(this.isConvert){let e=this.playKeys-this.mapKeys;e>0?t*=.9:e<0&&(t*=.9+.04*e)}return t*Math.pow(.5,this.isEZ+this.isHT+this.isNF)}computeAccuracyValue(){return Math.max(0,.2-.006667*(this.getHitWindow300()-34))*this.difficultyValue*Math.pow(Math.max(0,this._score-96e4)/4e4,1.1)}getHitWindow300(){const t=t=>(this.isHR?t/=1.4:this.isEZ&&(t*=1.4),t);if(!this.isConvert){let e=Math.min(10,Math.max(0,10-this.od));return t(34+3*e)}return this.od>=5?t(34):t(47)}computeTotalValue(){let t=.8;return this.isNF&&(t*=.9),this.isEZ&&(t*=.5),Math.pow(Math.pow(this.difficultyValue,1.1)+Math.pow(this.accuracyValue,1.1),1/1.1)*t}}class a{constructor(t,e){this.data=t,this.maxScore=e}getX(){let t=50,e=[],a=parseInt((this.maxScore-this.data.score)/t);if(a<=0)return[this.data.score,this.maxScore];let s=this.data.score;for(let o=0;o<t;o++)e.push(s),s+=a;return e.push(this.maxScore),[...new Set(e)]}getTrace(){let t=this.getX(),a=t.map((t=>{let a=this.data;return a.score=t,new e(a).totalValue}));return{x:t,y:a,name:this.name,showlegend:!1,type:"scatter"}}getLayout(){let t={title:{text:"pp曲线"},xaxis:{title:{text:"得分"},exponentformat:"none",showgrid:!0,gridwidth:2},yaxis:{title:{text:"pp"},exponentformat:"none",showgrid:!0,gridwidth:2}};return t}}t.exports.m=e,t.exports.O=a},9910:function(t,e,a){const s=a(6265)["default"];class o{constructor(t){this.approved=t.approved,this.artist=t.artist,this.artistU=t.artistU||t.artist,this.title=t.title,this.titleU=t.titleU||t.title,this.sid=t.sid,this.creator=t.creator,this.thumb="https://b.ppy.sh/thumb/"+this.sid+"l.jpg",this.play_count=t.play_count}toTableData(){let t="";switch(this.approved){case 0:t="pending";break;case 1:t="ranked";break;case 2:t="approved";break;case 3:t="qualified";break;case 4:t="loved";break;case-1:t="WIP";break;case-2:t="graveyard";break;default:t="unknown";break}return{sid:this.sid,thumb:this.thumb,status:t,title:this.artistU+" - "+this.titleU,creator:this.creator}}}class i{constructor(t){this.bid=t.bid,this.version=t.version,this.mode=t.mode,this.star=t.star,this.keys=t.CS,this.od=t.OD,this.objCount=t.circles+t.sliders}toTableData(){return{bid:this.bid,version:this.version,od:this.od,sr:this.star,objCount:this.objCount,star:"★"+this.star,keys:this.keys.toFixed(0)+"K"}}}class n{static async search(t){const e="https://api.sayobot.cn/v2/beatmapinfo?T=1&K="+t,a=await s.get(e);if(!a.data.data)throw"获取谱面详情失败";let o;if(a.data.data.bid_data.map((e=>{e.bid===t&&(o=e)})),!o)throw"查不到该谱面信息";if(3!==o.mode)throw"该谱面不是mania专谱";return{od:o.OD,sr:o.star,objCount:o.circles+o.sliders}}static async searchBeatmapSetList(t){const e="https://api.sayobot.cn/beatmaplist?2=4&5=8&3="+t,a=await s.get(e);if(!a.data)throw"获取谱面列表失败";if(0!==a.data.status)throw"找不到相关谱面集";let i=a.data.data.map((t=>new o(t)));return i.sort(((t,e)=>e.play_count-t.play_count))}static async searchBeatmapList(t){const e="https://api.sayobot.cn/v2/beatmapinfo?T=0&K="+t,a=await s.get(e);if(!a.data)throw"获取谱面信息失败";if(0!==a.data.status)throw"找不到相关谱面";let o=a.data.data.bid_data.map((t=>new i(t)));if(o=o.filter((t=>3===t.mode)),o.length<=0)throw"找不到相关谱面";return o.sort(((t,e)=>t.star-e.star))}}t.exports=n},3821:function(t,e,a){"use strict";var s=a(9242),o=(a(4567),a(6809),a(8199),a(4583),a(9740)),i=a(5264),n=a(2525),l=a(3396),r=a(7139);const d=t=>((0,l.dD)("data-v-635e453d"),t=t(),(0,l.Cn)(),t),c=(0,l.Uk)("我想升级"),h={class:"menuright"},u=d((()=>(0,l._)("a",{class:"github",href:"https://github.com/Exsper/osumania-ppcal",title:"GitHub",target:"_blank",rel:"noreferrer noopener"},[(0,l._)("svg",{viewBox:"0 0 24 24",width:"24px",height:"24px"},[(0,l._)("path",{fill:"currentColor",d:"M12 2C6.475 2 2 6.475 2 12a9.994 9.994 0 0 0 6.838 9.488c.5.087.687-.213.687-.476c0-.237-.013-1.024-.013-1.862c-2.512.463-3.162-.612-3.362-1.175c-.113-.288-.6-1.175-1.025-1.413c-.35-.187-.85-.65-.013-.662c.788-.013 1.35.725 1.538 1.025c.9 1.512 2.338 1.087 2.912.825c.088-.65.35-1.087.638-1.337c-2.225-.25-4.55-1.113-4.55-4.938c0-1.088.387-1.987 1.025-2.688c-.1-.25-.45-1.275.1-2.65c0 0 .837-.262 2.75 1.026a9.28 9.28 0 0 1 2.5-.338c.85 0 1.7.112 2.5.337c1.912-1.3 2.75-1.024 2.75-1.024c.55 1.375.2 2.4.1 2.65c.637.7 1.025 1.587 1.025 2.687c0 3.838-2.337 4.688-4.562 4.938c.362.312.675.912.675 1.85c0 1.337-.013 2.412-.013 2.75c0 .262.188.574.688.474A10.016 10.016 0 0 0 22 12c0-5.525-4.475-10-10-10z"})])],-1)));function p(t,e,a,s,d,p){const m=n.E_,_=n.Q8,w=i.mi,y=(0,l.up)("router-view"),f=o.b2;return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(_,{"default-active":d.activeIndex,class:"el-menu-demo",mode:"horizontal",router:!0},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{index:"/"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(t.$t("message.page_mania_pp_cal")),1)])),_:1}),(0,l.Wm)(m,{index:"/sayo"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(t.$t("message.page_mania_pp_cal_sayo")),1)])),_:1}),(0,l.Wm)(m,{index:"/level"},{default:(0,l.w5)((()=>[c])),_:1})])),_:1},8,["default-active"]),(0,l._)("div",h,[(0,l.Wm)(w,{class:"langbtn",onClick:p.changeLaguages},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(d.langText),1)])),_:1},8,["onClick"]),u]),(0,l.Wm)(f,{class:"app-content"},{default:(0,l.w5)((()=>[(0,l.Wm)(y)])),_:1})],64)}var m=a(4870);const _=(0,m.iH)("/");var w={data(){return{activeIndex:_,lang:"zh",langText:"English (incompleted)"}},name:"App",methods:{changeLaguages(){this.lang="zh"===this.$i18n.locale?"en":"zh",this.$i18n.locale=this.lang,this.langText="zh"===this.lang?"English (incompleted)":"简体中文"}}},y=a(89);const f=(0,y.Z)(w,[["render",p],["__scopeId","data-v-635e453d"]]);var b=f,g=a(678),v=(a(6885),a(8839),a(8908),a(88),a(6939)),C=a(7610),x=a(8894),k=a(6588);const D=t=>((0,l.dD)("data-v-6c19c228"),t=t(),(0,l.Cn)(),t),S=["hidden"],T=["hidden"],W=["hidden"],M=["hidden"],V=D((()=>(0,l._)("br",null,null,-1))),P=D((()=>(0,l._)("br",null,null,-1))),O=["hidden"],j=["hidden"],z=D((()=>(0,l._)("br",null,null,-1))),H=D((()=>(0,l._)("br",null,null,-1))),U=D((()=>(0,l._)("span",null,"Mods：",-1))),I=(0,l.Uk)("EZ"),E=(0,l.Uk)("NF"),K=(0,l.Uk)("HT"),R=(0,l.Uk)("HR"),Z=(0,l.Uk)("DT"),$=D((()=>(0,l._)("br",null,null,-1))),F=D((()=>(0,l._)("br",null,null,-1))),B=D((()=>(0,l._)("br",null,null,-1))),L=D((()=>(0,l._)("br",null,null,-1))),N=["hidden"],A=["hidden"];function q(t,e,a,o,n,d){const c=k.Xb,h=x.d6,u=C.Dv,p=i.mi,m=v.dq;return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(c,{modelValue:n.isConvert,"onUpdate:modelValue":e[0]||(e[0]=t=>n.isConvert=t),onChange:d.cal,size:"large",border:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(t.$t("message.option_mapIsConvert")),1)])),_:1},8,["modelValue","onChange"]),(0,l._)("span",{hidden:!1===n.isConvert},(0,r.zw)(t.$t("message.option_mapKeys")),9,S),(0,l.wy)((0,l._)("input",{class:"short","onUpdate:modelValue":e[1]||(e[1]=t=>n.mapKeys=t),onInput:e[2]||(e[2]=(...t)=>d.changeMapKeys&&d.changeMapKeys(...t)),hidden:!1===n.isConvert},null,40,T),[[s.nr,n.mapKeys,void 0,{number:!0}]]),(0,l._)("span",{hidden:!1===n.isConvert},(0,r.zw)(t.$t("message.option_playKeys")),9,W),(0,l.wy)((0,l._)("input",{class:"short","onUpdate:modelValue":e[3]||(e[3]=t=>n.playKeys=t),onInput:e[4]||(e[4]=(...t)=>d.cal&&d.cal(...t)),hidden:!1===n.isConvert},null,40,M),[[s.nr,n.playKeys,void 0,{number:!0}]]),V,(0,l._)("span",null,(0,r.zw)(t.$t("message.option_stars_with_mods"))+" ★",1),(0,l.Wm)(h,{"controls-position":"right",class:"mx-4",modelValue:n.sr,"onUpdate:modelValue":e[5]||(e[5]=t=>n.sr=t),precision:2,step:.1,onInput:d.cal},null,8,["modelValue","step","onInput"]),P,(0,l._)("span",null,(0,r.zw)(t.$t("message.option_od_without_mods"))+" OD",1),(0,l.wy)((0,l._)("input",{class:"short","onUpdate:modelValue":e[6]||(e[6]=t=>n.od=t),onInput:e[7]||(e[7]=(...t)=>d.OD2ModOD&&d.OD2ModOD(...t))},null,544),[[s.nr,n.od,void 0,{number:!0}]]),(0,l._)("span",{hidden:!(!0===n.isHR||!0===n.isEZ)},(0,r.zw)(t.$t("message.option_od_with_mods"))+" OD",9,O),(0,l.wy)((0,l._)("input",{class:"short",hidden:!(!0===n.isHR||!0===n.isEZ),"onUpdate:modelValue":e[8]||(e[8]=t=>n.od_mod=t),onInput:e[9]||(e[9]=(...t)=>d.ModOD2OD&&d.ModOD2OD(...t))},null,40,j),[[s.nr,n.od_mod,void 0,{number:!0}]]),z,(0,l._)("span",null,(0,r.zw)(t.$t("message.option_objCount")),1),(0,l.Wm)(h,{class:"mx-4",min:0,step:200,modelValue:n.objCount,"onUpdate:modelValue":e[10]||(e[10]=t=>n.objCount=t),onInput:d.cal},null,8,["modelValue","onInput"]),H,(0,l.Wm)(m,{gutter:20},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{span:3},{default:(0,l.w5)((()=>[U])),_:1}),(0,l.Wm)(u,{span:2},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{type:"primary",plain:"",class:(0,r.C_)(n.isEZ?"checkedmod":""),onClick:d.changeEZ},{default:(0,l.w5)((()=>[I])),_:1},8,["class","onClick"])])),_:1}),(0,l.Wm)(u,{span:2},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{type:"primary",plain:"",class:(0,r.C_)(n.isNF?"checkedmod":""),onClick:d.changeNF},{default:(0,l.w5)((()=>[E])),_:1},8,["class","onClick"])])),_:1}),(0,l.Wm)(u,{span:2},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{type:"primary",plain:"",class:(0,r.C_)(n.isHT?"checkedmod":""),onClick:d.changeHT},{default:(0,l.w5)((()=>[K])),_:1},8,["class","onClick"])])),_:1})])),_:1}),(0,l.Wm)(m,{gutter:20},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{span:2,offset:3},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{type:"primary",plain:"",class:(0,r.C_)(n.isHR?"checkedmod":""),onClick:d.changeHR},{default:(0,l.w5)((()=>[R])),_:1},8,["class","onClick"])])),_:1}),(0,l.Wm)(u,{span:2,offset:2},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{type:"primary",plain:"",class:(0,r.C_)(n.isDT?"checkedmod":""),onClick:d.changeDT},{default:(0,l.w5)((()=>[Z])),_:1},8,["class","onClick"])])),_:1})])),_:1}),$,(0,l._)("span",null,(0,r.zw)(t.$t("message.option_score")),1),(0,l.Wm)(h,{class:"mx-4",min:0,max:1e6,step:1e5,modelValue:n.score,"onUpdate:modelValue":e[11]||(e[11]=t=>n.score=t),onInput:d.cal},null,8,["modelValue","onInput"]),(0,l._)("span",null,(0,r.zw)(t.$t("message.option_maxScore"))+(0,r.zw)(n.maxScore),1),F,B,(0,l._)("span",null,"PP："+(0,r.zw)(n.pp),1),L,(0,l._)("span",{hidden:n.plotlyReady},"折线图模块加载中....",8,N),(0,l._)("div",{id:"graph",hidden:!1===n.plotlyReady},null,8,A)])}var G=a(1021),X={name:"HomeView",setup(){if(!window.Plotly){let t=document.createElement("script");t.setAttribute("src","https://cdn.staticfile.org/plotly.js/1.58.5/plotly.min.js"),document.getElementsByTagName("head")[0].appendChild(t)}},data(){return{isConvert:!1,mapKeys:4,playKeys:4,sr:5,od:8,od_mod:8,objCount:1e3,isHR:!1,isEZ:!1,isDT:!1,isHT:!1,isNF:!1,score:1e6,pp:this.$i18n.messages[this.$i18n.locale].message.info_enter_data,maxScore:1e6,plotlyReady:!0}},methods:{OD2ModOD(){this.isEZ?this.od_mod=this.od/2:this.isHR?this.od_mod=Math.min(1.4*this.od,10).toFixed(2):this.od_mod=this.od,this.cal()},ModOD2OD(){this.isEZ?this.od=2*this.od_mod:this.isHR?this.od_mod>=10?this.od="???":this.od=(this.od_mod/1.4).toFixed(2):this.od=this.od_mod,this.cal()},changeMapKeys(){this.playKeys=this.mapKeys,this.cal()},cal(){if("???"===this.od)this.pp="???";else{let t={isConvert:this.isConvert,mapKeys:this.mapKeys,playKeys:this.playKeys,sr:this.sr,od:this.od,objCount:this.objCount,isHR:this.isHR,isEZ:this.isEZ,isDT:this.isDT,isHT:this.isHT,isNF:this.isNF,score:this.score},e=new G.m(t);if(this.pp=e.totalValue.toFixed(2),this.maxScore=e.maxScore,this.score>this.maxScore)return this.score=this.maxScore,void this.cal();if(this.score===this.maxScore/2)return this.score=this.maxScore,void this.cal();if(window.Plotly){this.plotlyReady=!0;let e=new G.O(t,this.maxScore);window.Plotly.newPlot("graph",[e.getTrace()],e.getLayout(),{scrollZoom:!0,responsive:!0})}else this.plotlyReady=!1}},changeHR(){this.isHR=!this.isHR,this.isEZ=!1,this.OD2ModOD()},changeEZ(){this.isEZ=!this.isEZ,this.isHR=!1,this.OD2ModOD()},changeDT(){this.isDT=!this.isDT,this.isHT=!1,this.cal()},changeHT(){this.isHT=!this.isHT,this.isDT=!1,this.cal()},changeNF(){this.isNF=!this.isNF,this.cal()}}};const Y=(0,y.Z)(X,[["render",q],["__scopeId","data-v-6c19c228"]]);var Q=Y,J=(a(7176),a(9007),a(769));const tt=t=>((0,l.dD)("data-v-6f47bf34"),t=t(),(0,l.Cn)(),t),et={class:"searchpanel"},at=tt((()=>(0,l._)("span",null,"请输入关键词：",-1))),st=(0,l.Uk)("搜索"),ot=(0,l.Uk)("关闭"),it=tt((()=>(0,l._)("br",null,null,-1))),nt=["src"],lt=(0,l.Uk)("选择"),rt=(0,l.Uk)("选择");function dt(t,e,a,o,n,d){const c=i.mi,h=J.$Y,u=J.eI;return(0,l.wg)(),(0,l.iD)("div",et,[at,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>n.keyword=t)},null,512),[[s.nr,n.keyword]]),(0,l.Wm)(c,{type:"primary",onClick:d.setBeatmapSetTableData},{default:(0,l.w5)((()=>[st])),_:1},8,["onClick"]),(0,l.Wm)(c,{type:"primary",onClick:d.close},{default:(0,l.w5)((()=>[ot])),_:1},8,["onClick"]),it,(0,l._)("span",null,(0,r.zw)(n.warnText),1),(0,l.Wm)(u,{data:n.beatmapSetTableData,stripe:"",style:{width:"100%"},hidden:n.selectBidMode,size:"small"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{prop:"sid",label:"sid",width:"70"}),(0,l.Wm)(h,{width:"50"},{default:(0,l.w5)((t=>[(0,l._)("img",{src:t.row.thumb,width:"50",height:"37"},null,8,nt)])),_:1}),(0,l.Wm)(h,{prop:"status",label:"Status",width:"80"}),(0,l.Wm)(h,{prop:"title",label:"Title"}),(0,l.Wm)(h,{prop:"creator",label:"Creator",width:"80"}),(0,l.Wm)(h,{fixed:"right",width:"50"},{default:(0,l.w5)((t=>[(0,l.Wm)(c,{type:"text",size:"small",onClick:(0,s.iM)((e=>d.selectSet(t.row.sid)),["prevent"])},{default:(0,l.w5)((()=>[lt])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","hidden"]),(0,l.Wm)(u,{data:n.beatmapTableData,stripe:"",style:{width:"100%"},hidden:!n.selectBidMode,size:"small"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{prop:"bid",label:"bid",width:"100"}),(0,l.Wm)(h,{prop:"version",label:"Difficulty"}),(0,l.Wm)(h,{prop:"keys",label:"Keys",width:"60"}),(0,l.Wm)(h,{prop:"star",label:"Stars",width:"80"}),(0,l.Wm)(h,{fixed:"right",width:"50"},{default:(0,l.w5)((t=>[(0,l.Wm)(c,{type:"text",size:"small",onClick:(0,s.iM)((e=>d.selectBid(t.row.bid)),["prevent"])},{default:(0,l.w5)((()=>[rt])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","hidden"])])}var ct=a(9910),ht=a.n(ct),ut={name:"SearchPanel",data(){return{keyword:"",warnText:"",beatmapSetTableData:[],beatmapTableData:[],selectBidMode:!1}},methods:{async setBeatmapSetTableData(){try{this.selectBidMode=!1,this.beatmapSetTableData=[];let t=await ht().searchBeatmapSetList(this.keyword);t.map((t=>{this.beatmapSetTableData.push(t.toTableData())})),this.warnText=""}catch(t){this.warnText=t}},async selectSet(t){try{this.beatmapTableData=[];let e=await ht().searchBeatmapList(t);e.map((t=>{this.beatmapTableData.push(t.toTableData())})),this.warnText="",this.selectBidMode=!0}catch(e){this.warnText=e}},selectBid(t){let e=this.beatmapTableData.find((e=>e.bid===t));this.$emit("selectBid",e)},close(){this.$emit("removeSearchPanel")}}};const pt=(0,y.Z)(ut,[["render",dt],["__scopeId","data-v-6f47bf34"]]);var mt=pt;const _t=t=>((0,l.dD)("data-v-f2282190"),t=t(),(0,l.Cn)(),t),wt=_t((()=>(0,l._)("br",null,null,-1))),yt=_t((()=>(0,l._)("span",null,"bid：",-1))),ft=(0,l.Uk)("我不知道bid"),bt=_t((()=>(0,l._)("br",null,null,-1))),gt=_t((()=>(0,l._)("br",null,null,-1))),vt=_t((()=>(0,l._)("br",null,null,-1))),Ct=_t((()=>(0,l._)("br",null,null,-1))),xt=_t((()=>(0,l._)("br",null,null,-1))),kt=_t((()=>(0,l._)("br",null,null,-1))),Dt=["hidden"],St=["hidden"];function Tt(t,e,a,s,o,n){const d=x.d6,c=i.mi,h=mt;return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("span",null,(0,r.zw)(t.$t("message.option_sayo_only_mania_no_mod")),1),wt,yt,(0,l.Wm)(d,{controls:!1,class:"mx-4",modelValue:o.bid,"onUpdate:modelValue":e[0]||(e[0]=t=>o.bid=t),onInput:n.cal},null,8,["modelValue","onInput"]),(0,l.Wm)(c,{type:"primary",onClick:n.getData},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(t.$t("message.button_get_data_from_sayo")),1)])),_:1},8,["onClick"]),(0,l.Wm)(c,{type:"primary",onClick:n.setSearchPanel},{default:(0,l.w5)((()=>[ft])),_:1},8,["onClick"]),bt,o.showSearchPanel?((0,l.wg)(),(0,l.j4)(h,{key:0,onSelectBid:n.selectBid,onRemoveSearchPanel:n.removeSearchPanel},null,8,["onSelectBid","onRemoveSearchPanel"])):(0,l.kq)("",!0),(0,l._)("span",null,(0,r.zw)(t.$t("message.option_stars"))+" ★"+(0,r.zw)(o.sr),1),gt,(0,l._)("span",null,(0,r.zw)(t.$t("message.option_od"))+" "+(0,r.zw)(o.od),1),vt,(0,l._)("span",null,(0,r.zw)(t.$t("message.option_objCount"))+" "+(0,r.zw)(o.objCount),1),Ct,(0,l._)("span",null,(0,r.zw)(t.$t("message.option_score")),1),(0,l.Wm)(d,{class:"mx-4",min:0,max:1e6,step:1e5,modelValue:o.score,"onUpdate:modelValue":e[1]||(e[1]=t=>o.score=t),onInput:n.cal},null,8,["modelValue","onInput"]),xt,(0,l._)("span",null,"PP："+(0,r.zw)(o.pp),1),kt,(0,l._)("span",{hidden:o.plotlyReady},"折线图模块加载中....",8,Dt),(0,l._)("div",{id:"graph",hidden:!1===o.plotlyReady},null,8,St)])}var Wt={components:{SearchPanel:mt},name:"SayobotFastView",setup(){if(!window.Plotly){let t=document.createElement("script");t.setAttribute("src","https://cdn.staticfile.org/plotly.js/1.58.5/plotly.min.js"),document.getElementsByTagName("head")[0].appendChild(t)}},data(){return{showSearchPanel:!1,bid:1234567,sr:8,od:8,objCount:2e3,score:1e6,pp:this.$i18n.messages[this.$i18n.locale].message.info_enter_data,plotlyReady:!0}},methods:{cal(){let t={isConvert:!1,sr:this.sr,od:this.od,objCount:this.objCount,isHR:!1,isEZ:!1,isDT:!1,isHT:!1,isNF:!1,score:this.score},e=new G.m(t);if(this.pp=e.totalValue.toFixed(2),window.Plotly){this.plotlyReady=!0;let a=new G.O(t,e.maxScore);window.Plotly.newPlot("graph",[a.getTrace()],a.getLayout(),{scrollZoom:!0,responsive:!0})}else this.plotlyReady=!1},async getData(){try{let t=await ht().search(this.bid);this.sr=t.sr,this.od=t.od,this.objCount=t.objCount,this.cal()}catch(t){this.pp=t}},setSearchPanel(){this.showSearchPanel=!0},selectBid(t){this.bid=t.bid,this.sr=t.sr,this.od=t.od,this.objCount=t.objCount,this.removeSearchPanel(),this.cal()},removeSearchPanel(){this.showSearchPanel=!1}}};const Mt=(0,y.Z)(Wt,[["render",Tt],["__scopeId","data-v-f2282190"]]);var Vt=Mt;const Pt=t=>((0,l.dD)("data-v-5f5f8641"),t=t(),(0,l.Cn)(),t),Ot=Pt((()=>(0,l._)("span",null,"总分：",-1))),jt=Pt((()=>(0,l._)("br",null,null,-1))),zt=Pt((()=>(0,l._)("br",null,null,-1))),Ht=Pt((()=>(0,l._)("span",null,"每个成绩大概得分：",-1))),Ut=Pt((()=>(0,l._)("br",null,null,-1))),It=Pt((()=>(0,l._)("span",null,"或者由PC数计算，PC数：",-1))),Et=Pt((()=>(0,l._)("br",null,null,-1))),Kt=Pt((()=>(0,l._)("br",null,null,-1))),Rt=Pt((()=>(0,l._)("span",null,"对比等级（填0则默认下一级）",-1))),Zt=Pt((()=>(0,l._)("br",null,null,-1))),$t=Pt((()=>(0,l._)("br",null,null,-1))),Ft=(0,l.Uk)("计算"),Bt=Pt((()=>(0,l._)("br",null,null,-1))),Lt=Pt((()=>(0,l._)("br",null,null,-1)));function Nt(t,e,a,s,o,n){const d=x.d6,c=i.mi;return(0,l.wg)(),(0,l.iD)("div",null,[Ot,(0,l.Wm)(d,{class:"mx-4",min:0,step:1,modelValue:o.totalScore,"onUpdate:modelValue":e[0]||(e[0]=t=>o.totalScore=t),controls:!1,onInput:n.changePC},null,8,["modelValue","onInput"]),jt,zt,Ht,(0,l.Wm)(d,{class:"mx-4",min:0,max:1e6,step:5e4,modelValue:o.scorePerPC,"onUpdate:modelValue":e[1]||(e[1]=t=>o.scorePerPC=t)},null,8,["modelValue"]),Ut,It,(0,l.Wm)(d,{class:"mx-4",min:0,step:1,modelValue:o.pc,"onUpdate:modelValue":e[2]||(e[2]=t=>o.pc=t),onInput:n.changePC},null,8,["modelValue","onInput"]),Et,Kt,Rt,(0,l.Wm)(d,{class:"mx-4",min:0,step:1,modelValue:o.compareLevel,"onUpdate:modelValue":e[3]||(e[3]=t=>o.compareLevel=t)},null,8,["modelValue"]),Zt,$t,(0,l.Wm)(c,{type:"primary",onClick:n.cal},{default:(0,l.w5)((()=>[Ft])),_:1},8,["onClick"]),Bt,Lt,(0,l._)("span",null,(0,r.zw)(o.result),1)])}var At=a(8531),qt=a.n(At),Gt={name:"LevelRequire",data(){return{totalScore:0,scorePerPC:1e6,pc:0,compareLevel:0,result:""}},methods:{changePC(){this.pc>0&&(this.scorePerPC=parseInt(this.totalScore/this.pc))},cal(){try{let t=qt()(this.totalScore,this.scorePerPC,this.compareLevel);this.result=t}catch(t){this.result=t}}}};const Xt=(0,y.Z)(Gt,[["render",Nt],["__scopeId","data-v-5f5f8641"]]);var Yt=Xt;const Qt=[{path:"/",name:"home",component:Q},{path:"/sayo",name:"sayo",component:Vt},{path:"/level",name:"level",component:Yt}],Jt=(0,g.p7)({history:(0,g.r5)(),routes:Qt});var te=Jt,ee=a(6623),ae=(0,ee.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}}),se=a(3490),oe={page_mania_pp_cal:"Mania PP Calculation",page_mania_pp_cal_sayo:"Get Mapdata From Sayo",page_about:"About",option_mapIsConvert:"Converted",option_mapKeys:"Default Keys:",option_playKeys:"Play Keys:",option_stars:"Stars:",option_stars_with_mods:"Stars(With Mod):",option_od_without_mods:"OD(Without Mod):",option_od_with_mods:"With Mod:",option_od:"OD:",option_objCount:"Objects:",option_score:"Score:",option_maxScore:"Max Score:",option_sayo_only_mania_no_mod:"Mania Map Without Any Mod Only!",button_get_data_from_sayo:"Get Map Data",info_enter_data:"Calculate When Entering Data"},ie={page_mania_pp_cal:"mania pp计算",page_mania_pp_cal_sayo:"小夜帮填",page_about:"关于",option_mapIsConvert:"转谱",option_mapKeys:"谱面默认键数：",option_playKeys:"游玩键数：",option_stars:"谱面星数：",option_stars_with_mods:"谱面星数（Mod加成后）：",option_od_without_mods:"谱面OD（Mod加成前）：",option_od_with_mods:"加成后：",option_od:"谱面OD：",option_objCount:"谱面物件数：",option_score:"得分：",option_maxScore:"满分：",option_sayo_only_mania_no_mod:"仅只支持mania专谱的无mod成绩！",button_get_data_from_sayo:"从小夜获取数据",info_enter_data:"输入数据立即计算"};const ne=(0,se.o)({locale:"zh",messages:{en:{message:oe},zh:{message:ie}}});(0,s.ri)(b).use(ae).use(te).use(ne).mount("#app")}},e={};function a(s){var o=e[s];if(void 0!==o)return o.exports;var i=e[s]={exports:{}};return t[s](i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,s,o,i){if(!s){var n=1/0;for(c=0;c<t.length;c++){s=t[c][0],o=t[c][1],i=t[c][2];for(var l=!0,r=0;r<s.length;r++)(!1&i||n>=i)&&Object.keys(a.O).every((function(t){return a.O[t](s[r])}))?s.splice(r--,1):(l=!1,i<n&&(n=i));if(l){t.splice(c--,1);var d=o();void 0!==d&&(e=d)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[s,o,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,i,n=s[0],l=s[1],r=s[2],d=0;if(n.some((function(e){return 0!==t[e]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(r)var c=r(a)}for(e&&e(s);d<n.length;d++)i=n[d],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(c)},s=self["webpackChunkosumania_ppcal"]=self["webpackChunkosumania_ppcal"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(3821)}));s=a.O(s)})();